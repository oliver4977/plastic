<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>ν”λΌμ¤ν‹± μ κ° ν¬μΈνΈ κ³„μ‚°κΈ°</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f8fc;
      padding: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h2 {
      color: #2a5d9f;
    }
    input, button {
      padding: 10px;
      margin: 10px 0;
      width: 300px;
      font-size: 16px;
    }
    button {
      background-color: #2a5d9f;
      color: white;
      border: none;
      cursor: pointer;
    }
    .card {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      margin-top: 20px;
      width: 340px;
    }
    .card h3 {
      margin-bottom: 10px;
      color: #2a5d9f;
    }
    .highlight {
      color: #007700;
      font-weight: bold;
    }
    .message {
      margin-top: 10px;
      padding: 10px;
      background-color: #e6f7ff;
      border-left: 5px solid #3399ff;
    }
  </style>
</head>
<body>

  <h2>ν”λΌμ¤ν‹± μ κ° ν¬μΈνΈ κ³„μ‚°κΈ°</h2>

  <input type="text" id="aptName" placeholder="λ‹¨μ§€ μ΄λ¦„ μ…λ ¥ (μ: ν‘Έλ¥΄μ§€μ¤)">
  <input type="number" id="usage" placeholder="μ΄λ² λ‹¬ μ‚¬μ©λ‰ (kg)">
  <input type="number" id="target" placeholder="λ©ν‘ μ‚¬μ©λ‰ μ„¤μ • (kg)">
  <button onclick="calculate()">κ³„μ‚°ν•κΈ°</button>

  <div class="card" id="output" style="display:none;"></div>

  <script>
    const κΈ°μ¤€λ‰ = 100;

    function calculate() {
      const apt = document.getElementById("aptName").value.trim();
      const usage = parseFloat(document.getElementById("usage").value);
      const target = parseFloat(document.getElementById("target").value);

      if (!apt || isNaN(usage) || isNaN(target)) {
        alert("λ¨λ“  μ •λ³΄λ¥Ό μ •ν™•ν μ…λ ¥ν•΄μ£Όμ„Έμ”.");
        return;
      }

      const μ κ°λ‰ = Math.max(0, κΈ°μ¤€λ‰ - usage);
      const ν¬μΈνΈ = μ κ°λ‰ * 10;
      const κ°λ©΄μ•΅ = ν¬μΈνΈ * 100;
      const co2μ κ° = μ κ°λ‰ * 2.5; // κ°€μ •: 1kg ν”λΌμ¤ν‹± μ κ° = 2.5kg CO2 κ°μ†

      const key = `point_${apt}`;
      const κΈ°μ΅΄ν¬μΈνΈ = parseInt(localStorage.getItem(key)) || 0;
      const λ„μ ν¬μΈνΈ = κΈ°μ΅΄ν¬μΈνΈ + ν¬μΈνΈ;
      localStorage.setItem(key, λ„μ ν¬μΈνΈ);

      // μΉ­μ°¬ λ©”μ‹μ§€ μ„¤μ •
      let μΉ­μ°¬ = "";
      if (μ κ°λ‰ >= 20) {
        μΉ­μ°¬ = "π‰ ν™κ²½ μμ›…μ…λ‹λ‹¤! ν° μ κ°μ„ λ‹¬μ„±ν–μ–΄μ”!";
      } else if (μ κ°λ‰ >= 10) {
        μΉ­μ°¬ = "π‘ μ°μ μ κ°! μ§€μ†μ μΈ λ…Έλ ¥μ΄ λ³΄μ—¬μ”!";
      } else if (μ κ°λ‰ > 0) {
        μΉ­μ°¬ = "π μΆ‹μ€ μ¶λ°μ…λ‹λ‹¤! λ‹¤μ λ‹¬λ„ κΈ°λ€λΌμ”!";
      } else {
        μΉ­μ°¬ = "β οΈ κΈ°μ¤€λ³΄λ‹¤ λ” λ§μ΄ μ‚¬μ©ν–μ–΄μ”. ν•¨κ» μ¤„μ—¬λ΄μ”!";
      }

      // λ©ν‘ λ‹¬μ„± μ—¬λ¶€
      let λ©ν‘κ²°κ³Ό = "";
      if (usage <= target) {
        λ©ν‘κ²°κ³Ό = `β… μ„¤μ •ν• λ©ν‘(${target}kg) λ‹¬μ„±μ— μ„±κ³µν–μµλ‹λ‹¤!`;
      } else {
        λ©ν‘κ²°κ³Ό = `β μ•„μ‰½κ²λ„ λ©ν‘(${target}kg) λ‹¬μ„± μ‹¤ν¨. λ‹¤μ λ‹¬μ—” κ°€λ¥ν•΄μ”!`;
      }

      const output = document.getElementById("output");
      output.style.display = "block";
      output.innerHTML = `
        <h3>${apt} λ‹¨μ§€μ κ²°κ³Ό</h3>
        β–Έ κΈ°μ¤€ μ‚¬μ©λ‰: <span class="highlight">${κΈ°μ¤€λ‰}kg</span><br>
        β–Έ μ‹¤μ  μ‚¬μ©λ‰: <span class="highlight">${usage}kg</span><br>
        β–Έ μ κ°λ‰: <span class="highlight">${μ κ°λ‰}kg</span><br>
        β–Έ μ΄λ² λ‹¬ ν¬μΈνΈ: <span class="highlight">${ν¬μΈνΈ}μ </span><br>
        β–Έ λ„μ  ν¬μΈνΈ: <span class="highlight">${λ„μ ν¬μΈνΈ}μ </span><br>
        β–Έ κ°λ©΄ μμƒμ•΅: <span class="highlight">${κ°λ©΄μ•΅.toLocaleString()}μ›</span><br>
        β–Έ μ΄μ‚°ν™”νƒ„μ† μ κ°λ‰: <span class="highlight">${co2μ κ°.toFixed(1)}kg</span>

        <div class="message">${μΉ­μ°¬}<br>${λ©ν‘κ²°κ³Ό}</div>
      `;
    }
  </script>

</body>
</html>
